(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(86)},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(23),r=a.n(l),c=(a(51),a(1)),i=a(2),s=a(4),m=a(3),u=a(5),p=(a(52),a(15)),d=a(13),f=(a(53),a(54),a(55),a(9)),h=a(16),g=a(8),E=a.n(g),b=function(){return function(e){var t=localStorage.getItem("token");E()({method:"post",url:"https://terralogic-training.firebaseapp.com/api/get_profile",headers:{"x-user-token":t}}).then(function(t){var a;console.log(t),e((a=t.data.data,console.log(a),{type:"SHOW_PROFILE",state:a}))}).catch(function(e){})}},v=a(45),O=Object(v.a)(),y=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={Loading:!1},a.signUp=function(e){a.setState({Loading:!0}),setTimeout(function(){a.setState({Loading:!1})},2e3),e.preventDefault(),a.props.onSignUp(a.state.email,a.state.password,a.state.confirmPass)},a.signUp=a.signUp.bind(Object(d.a)(a)),a.onHandleChange=a.onHandleChange.bind(Object(d.a)(a)),a.state={email:"",password:"",isLoading:!1},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"signUp",value:function(e){}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"componentWillReceiveProps",value:function(e){e.tasks.isLoading&&this.props.history.push("/"),console.log("check nextProps",e)}},{key:"render",value:function(){var e=this.state.Loading;return o.a.createElement("div",null,o.a.createElement("div",{className:"col-md-12 Regis-Left"},o.a.createElement("div",{className:"Sign-up"},o.a.createElement("h2",null,"SIGN UP"),o.a.createElement("form",{className:"formSign",action:"",onSubmit:this.signUp},"Email:",o.a.createElement("br",null),o.a.createElement("input",{onChange:this.onHandleChange,className:"Sign-Email",placeholder:"",type:"text",name:"email",required:""}),o.a.createElement("br",null),"Password:",o.a.createElement("br",null),o.a.createElement("input",{onChange:this.onHandleChange,className:"Sign-Pass",placeholder:"",type:"password",name:"password",required:""}),o.a.createElement("br",null),"Confirm Password:",o.a.createElement("br",null),o.a.createElement("input",{onChange:this.onHandleChange,className:"ConfirmPass",placeholder:"",type:"password",name:"confirmPass",required:""})),o.a.createElement(f.b,{to:"/"},o.a.createElement("button",{type:"button",className:"btn btn-default sign-up",onClick:this.signUp},e&&o.a.createElement("i",{className:"fa fa-spinner fa-spin",disabled:e}),"SIGN UP")),o.a.createElement("p",null,"\xa9 2019 Terralogic.Inc"))))}}]),t}(n.Component),N=Object(h.b)(function(e){return{tasks:e.tasks}},function(e,t){return{onSignUp:function(t,a){e(function(e,t){return function(a){E()({method:"post",url:"https://terralogic-training.web.app/api/sign_up",data:{email:e,password:t}}).then(function(n){console.log("res",n),alert("Sign Up Success"),a(function(e,t){return{type:"SIGNUP",email:e,password:t}}(e,t))}).catch(function(e){console.log("erro",e),alert("Sign Up Failed")})}}(t,a))}}})(y),j=(a(81),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"col-md-12 Right"},o.a.createElement("div",{className:"logo"},o.a.createElement("img",{alt:"logo",src:"./images/terra-logo.png"}),o.a.createElement("p",null,"We are family")),o.a.createElement("div",{className:"Right-Bot"},o.a.createElement("p",null,"\xa9 2019 Terralogic.Inc"))))}}]),t}(n.Component)),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"container content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 Right"},o.a.createElement(j,null)),o.a.createElement("div",{className:"col-md-6 Left"},o.a.createElement(N,null))))))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).state={Loading:!1},a.myFunction=function(){a.setState({Loading:!0}),setTimeout(function(){a.setState({Loading:!1})},2e3)},a.signIn=a.signIn.bind(Object(d.a)(a)),a.onHandleChange=a.onHandleChange.bind(Object(d.a)(a)),a.state={email:"",password:"",isLoading:!1,token:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"signIn",value:function(e){e.preventDefault(),this.props.onLogin(this.state.email,this.state.password)}},{key:"onHandleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"componentWillReceiveProps",value:function(e){this.setState({isLoading:e.tasks.isLoading}),console.log("check nextProps",e)}},{key:"render",value:function(){this.state.isLoading&&O.push("/profile");var e=this.state.Loading;return o.a.createElement("div",null,o.a.createElement("div",{className:"col-md-12 Left"},o.a.createElement("div",{className:"Login"},o.a.createElement("h2",null,"LOGIN"),o.a.createElement("form",{className:"formLogin",action:"",onSubmit:this.signIn},"Email:",o.a.createElement("br",null),o.a.createElement("input",{className:"Email",type:"text",name:"email",onChange:this.onHandleChange}),o.a.createElement("br",null),"Password:",o.a.createElement("br",null),o.a.createElement("input",{className:"Pass",type:"password",name:"password",onChange:this.onHandleChange}),o.a.createElement("button",{type:"submit",className:"btn btn-default button",onClick:this.myFunction},e&&o.a.createElement("i",{className:"fa fa-spinner fa-spin",disabled:e}),"LOGIN"),o.a.createElement(f.b,{to:"/Signup",className:"register"},o.a.createElement("button",{type:"submit",className:"btn btn-default register"},"SIGN UP"))),o.a.createElement("p",null,"\xa9 2019 Terralogic.Inc"))))}}]),t}(n.Component),C=Object(h.b)(function(e){return{tasks:e.tasks}},function(e,t){return{onLogin:function(t,a){e(function(e,t){return function(a){console.log("check dispatch:",e,t),E()({method:"post",url:"https://terralogic-training.web.app/api/login",data:{email:e,password:t}}).then(function(n){localStorage.setItem("token",n.data.token),console.log("token:",n.data.token),console.log(n),a(function(e,t){return{type:"LOGIN",email:e,password:t}}(e,t))}).catch(function(e){alert("Check your email and password again")})}}(t,a))}}})(k),L=a(17),S=(a(82),a(83),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onSave=function(e){e.preventDefault(),console.log(a.state),a.props.onUpdateProfile(a.state)},a.state={Loading:!1},a.myFunction=function(){a.setState({Loading:!0}),setTimeout(function(){a.setState({Loading:!1})},2e3)},a.handleChange=a.handleChange.bind(Object(d.a)(a)),a.state={display_name:"",display_info:"",phone:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(p.a)({},a,n))}},{key:"componentWillMount",value:function(){this.props.onShowProfile()}},{key:"componentWillReceiveProps",value:function(e){console.log("nextProps",e);var t=e.profile;this.setState({display_name:t.display_name,display_info:t.display_info,phone:t.phone})}},{key:"render",value:function(){null===localStorage.getItem("token")&&O.push("/");var e=this.state,t=e.display_name,a=e.display_info,n=e.phone,l=(e.avatar,this.state.Loading);return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"avatar"},o.a.createElement("img",{alt:"avatar",src:"./images/55089.png"}),o.a.createElement("div",{className:"penis"},o.a.createElement("img",{alt:"pencil",src:"./images/SoftwareIcons-68-512.png"})))),o.a.createElement("div",{className:"row form-profile"},o.a.createElement("form",{onSubmit:this.onSave},o.a.createElement("div",{className:"formProfile"},o.a.createElement("div",{className:"col-sm-6 form-left"},o.a.createElement("p",{className:"text-form-profile"},"Display Name"),o.a.createElement("input",{className:"form",type:"text",placeholder:"Your Name",value:t,name:"display_name",onChange:this.handleChange}),o.a.createElement("p",{className:"text-form-profile"},"Email"),o.a.createElement("input",{className:"form",type:"email",placeholder:"Your Company Email",name:"email"}),o.a.createElement("p",{className:"text-form-profile"},"New Password"),o.a.createElement("input",{className:"form",type:"password",placeholder:"Enter New Password",name:"psw"})),o.a.createElement("div",{className:"col-sm-6 form-right"},o.a.createElement("p",{className:"text-form-profile"},"Display Info"),o.a.createElement("input",{className:"form",type:"text",placeholder:"Your Info",value:a,name:"display_info",onChange:this.handleChange}),o.a.createElement("p",{className:"text-form-profile"},"Phone Number"),o.a.createElement("input",{className:"form",type:"text",placeholder:"Phone",value:n,name:"phone",onChange:this.handleChange}),o.a.createElement("p",{className:"text-form-profile"},"Confirm Password"),o.a.createElement("input",{className:"form",type:"password",placeholder:"Confirm Password",name:"confirmpsw"}))),o.a.createElement("div",{className:"button-update"},o.a.createElement("button",{className:"update",type:"submit",onClick:this.myFunction},l&&o.a.createElement("i",{className:"fa fa-spinner fa-spin",disabled:l}),"UPDATE PROFILE"))))))}}]),t}(n.Component)),P=Object(h.b)(function(e){return{profile:e.profile}},function(e,t){return{onShowProfile:function(){e(b())},onUpdateProfile:function(t){e(function(e){return function(t){var a=localStorage.getItem("token");console.log("token:",a),E()({method:"post",url:"https://terralogic-training.web.app/api/set_profile",headers:{"x-user-token":a},data:e}).then(function(e){console.log(e),alert("Update Success"),t({type:"UPDATE_PROFILE",state:e.data.data})}).catch(function(e){alert("Update Failed")})}}(t))}}})(S),I=(a(84),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("header",null,o.a.createElement("div",{className:"logo-header"},o.a.createElement("img",{alt:"logo-header",src:"./images/terra-logo.png"})))))}}]),t}(n.Component)),_=(a(85),function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("footer",null,o.a.createElement("p",{className:"copy"},"\xa9 2019 TERRALOGIC.INC."))))}}]),t}(n.Component)),U=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).onLogout=function(){var e=localStorage.getItem("token");E()({method:"post",url:"https://terralogic-training.web.app/api/logout",headers:{"x-user-token":e}}).then(function(e){console.log("Logout",e),O.push("/"),localStorage.clear()}).catch(function(e){alert("ERROR")})},a.state={},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement("div",null,o.a.createElement(I,null),o.a.createElement("div",{className:"col-sm-12 "},o.a.createElement("p",{className:"title","data-toggle":"dropdown"},"PROFILE"),o.a.createElement("ul",{className:"dropdown-menu menu"},o.a.createElement("li",null,o.a.createElement(f.b,{to:"/profile"},"Profile")),o.a.createElement("li",null,o.a.createElement(f.b,{to:"/",onClick:this.onLogout},"Logout")))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"jumbotron between"},o.a.createElement("div",{className:"main-content"},o.a.createElement(P,null)))),o.a.createElement(_,null)))}}]),t}(n.Component),x=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(f.a,null,o.a.createElement("div",null,o.a.createElement("div",{className:"container content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-6 Right"},o.a.createElement(j,null)),o.a.createElement("div",{className:"col-md-6 Left"},o.a.createElement(L.a,{path:"/",exact:!0,component:C}),o.a.createElement(L.a,{path:"/Signup",component:N}))))))}}]),t}(n.Component),R=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement(L.b,{history:O},o.a.createElement(L.a,{path:"/",exact:!0,component:x}),o.a.createElement(L.a,{path:"/profile",component:U}),o.a.createElement(L.a,{path:"/Signup",component:w}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(18),F=a(21),G={email:"",password:"",isLoading:!1,token:""},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return alert("Login Success"),console.log("check",t.isLoading),Object(F.a)({},e,{email:t.email,password:t.password,isLoading:!0,token:t.token});case"SIGNUP":return Object(F.a)({},e,{email:t.email,password:t.password,isLoading:!0});default:return e}},W={display_name:"",display_info:"",phone:"",avatar:""},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_PROFILE":return console.log("dataProfile: ",t.state),Object(F.a)({},e,{display_name:t.state.display_name,display_info:t.state.display_info,phone:t.state.phone,avatar:t.state.avatar});case"UPDATE_PROFILE":return console.log("data",t.state),Object(F.a)({},t.state);default:return e}},A=Object(H.c)({tasks:T,profile:D}),q=a(44),B=Object(H.d)(A,Object(H.a)(q.a));r.a.render(o.a.createElement(h.a,{store:B},o.a.createElement(R,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,1,2]]]);
//# sourceMappingURL=main.f14fc214.chunk.js.map